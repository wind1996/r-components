(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{179:function(e,t,n){"use strict";var o=n(0),r=n.n(o),a=n(180),l=n.n(a);t.a=e=>{let{content:t}=e;return r.a.createElement("div",{style:{padding:10},className:l.a.mdcontainer},r.a.createElement("code",{dangerouslySetInnerHTML:{__html:t},className:l.a.code}))}},180:function(e,t,n){e.exports={mdcontainer:"mdcontainer__3ycSEfvL"}},315:function(e,t,n){"use strict";n(324);var o=n(328),r=n(0),a=n.n(r),l=n(316),i=n.n(l);t.a=e=>{let{html:t,title:n,showCopy:r=!0}=e;return a.a.createElement("div",{style:{padding:10}},a.a.createElement("div",{style:{textAlign:"left",fontWeight:"bolder"}},n?a.a.createElement("span",{style:{marginRight:10}},n):null,r?a.a.createElement(o.a.Paragraph,{copyable:{text:t},style:{display:"inline"}},"复制内容"):null),a.a.createElement("pre",null,a.a.createElement("code",{dangerouslySetInnerHTML:{__html:t},className:i.a.code})))}},316:function(e,t,n){e.exports={code:"code__FaLAiD27"}},317:function(e,t,n){"use strict";var o=n(0),r=n.n(o);t.a=e=>{let{componentName:t}=e;return r.a.createElement("div",{style:{marginTop:"10px"}},r.a.createElement("h3",null,"使用方式"),r.a.createElement("p",null,"方式一：通过npm install （暂未实现这个）"),r.a.createElement("p",null,"方式二：直接复制下面的JS文件和样式文件"))}},325:function(e,t,n){var o={"./af":181,"./af.js":181,"./ar":182,"./ar-dz":183,"./ar-dz.js":183,"./ar-kw":184,"./ar-kw.js":184,"./ar-ly":185,"./ar-ly.js":185,"./ar-ma":186,"./ar-ma.js":186,"./ar-sa":187,"./ar-sa.js":187,"./ar-tn":188,"./ar-tn.js":188,"./ar.js":182,"./az":189,"./az.js":189,"./be":190,"./be.js":190,"./bg":191,"./bg.js":191,"./bm":192,"./bm.js":192,"./bn":193,"./bn.js":193,"./bo":194,"./bo.js":194,"./br":195,"./br.js":195,"./bs":196,"./bs.js":196,"./ca":197,"./ca.js":197,"./cs":198,"./cs.js":198,"./cv":199,"./cv.js":199,"./cy":200,"./cy.js":200,"./da":201,"./da.js":201,"./de":202,"./de-at":203,"./de-at.js":203,"./de-ch":204,"./de-ch.js":204,"./de.js":202,"./dv":205,"./dv.js":205,"./el":206,"./el.js":206,"./en-au":207,"./en-au.js":207,"./en-ca":208,"./en-ca.js":208,"./en-gb":209,"./en-gb.js":209,"./en-ie":210,"./en-ie.js":210,"./en-il":211,"./en-il.js":211,"./en-in":212,"./en-in.js":212,"./en-nz":213,"./en-nz.js":213,"./en-sg":214,"./en-sg.js":214,"./eo":215,"./eo.js":215,"./es":216,"./es-do":217,"./es-do.js":217,"./es-us":218,"./es-us.js":218,"./es.js":216,"./et":219,"./et.js":219,"./eu":220,"./eu.js":220,"./fa":221,"./fa.js":221,"./fi":222,"./fi.js":222,"./fil":223,"./fil.js":223,"./fo":224,"./fo.js":224,"./fr":225,"./fr-ca":226,"./fr-ca.js":226,"./fr-ch":227,"./fr-ch.js":227,"./fr.js":225,"./fy":228,"./fy.js":228,"./ga":229,"./ga.js":229,"./gd":230,"./gd.js":230,"./gl":231,"./gl.js":231,"./gom-deva":232,"./gom-deva.js":232,"./gom-latn":233,"./gom-latn.js":233,"./gu":234,"./gu.js":234,"./he":235,"./he.js":235,"./hi":236,"./hi.js":236,"./hr":237,"./hr.js":237,"./hu":238,"./hu.js":238,"./hy-am":239,"./hy-am.js":239,"./id":240,"./id.js":240,"./is":241,"./is.js":241,"./it":242,"./it-ch":243,"./it-ch.js":243,"./it.js":242,"./ja":244,"./ja.js":244,"./jv":245,"./jv.js":245,"./ka":246,"./ka.js":246,"./kk":247,"./kk.js":247,"./km":248,"./km.js":248,"./kn":249,"./kn.js":249,"./ko":250,"./ko.js":250,"./ku":251,"./ku.js":251,"./ky":252,"./ky.js":252,"./lb":253,"./lb.js":253,"./lo":254,"./lo.js":254,"./lt":255,"./lt.js":255,"./lv":256,"./lv.js":256,"./me":257,"./me.js":257,"./mi":258,"./mi.js":258,"./mk":259,"./mk.js":259,"./ml":260,"./ml.js":260,"./mn":261,"./mn.js":261,"./mr":262,"./mr.js":262,"./ms":263,"./ms-my":264,"./ms-my.js":264,"./ms.js":263,"./mt":265,"./mt.js":265,"./my":266,"./my.js":266,"./nb":267,"./nb.js":267,"./ne":268,"./ne.js":268,"./nl":269,"./nl-be":270,"./nl-be.js":270,"./nl.js":269,"./nn":271,"./nn.js":271,"./oc-lnc":272,"./oc-lnc.js":272,"./pa-in":273,"./pa-in.js":273,"./pl":274,"./pl.js":274,"./pt":275,"./pt-br":276,"./pt-br.js":276,"./pt.js":275,"./ro":277,"./ro.js":277,"./ru":278,"./ru.js":278,"./sd":279,"./sd.js":279,"./se":280,"./se.js":280,"./si":281,"./si.js":281,"./sk":282,"./sk.js":282,"./sl":283,"./sl.js":283,"./sq":284,"./sq.js":284,"./sr":285,"./sr-cyrl":286,"./sr-cyrl.js":286,"./sr.js":285,"./ss":287,"./ss.js":287,"./sv":288,"./sv.js":288,"./sw":289,"./sw.js":289,"./ta":290,"./ta.js":290,"./te":291,"./te.js":291,"./tet":292,"./tet.js":292,"./tg":293,"./tg.js":293,"./th":294,"./th.js":294,"./tk":295,"./tk.js":295,"./tl-ph":296,"./tl-ph.js":296,"./tlh":297,"./tlh.js":297,"./tr":298,"./tr.js":298,"./tzl":299,"./tzl.js":299,"./tzm":300,"./tzm-latn":301,"./tzm-latn.js":301,"./tzm.js":300,"./ug-cn":302,"./ug-cn.js":302,"./uk":303,"./uk.js":303,"./ur":304,"./ur.js":304,"./uz":305,"./uz-latn":306,"./uz-latn.js":306,"./uz.js":305,"./vi":307,"./vi.js":307,"./x-pseudo":308,"./x-pseudo.js":308,"./yo":309,"./yo.js":309,"./zh-cn":310,"./zh-cn.js":310,"./zh-hk":311,"./zh-hk.js":311,"./zh-mo":312,"./zh-mo.js":312,"./zh-tw":313,"./zh-tw.js":313};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id=325},326:function(e,t,n){"use strict";n(336),n(337),n(318);var o,r,a,l=n(314),i=(n(107),n(74)),s=(n(332),n(334)),c=(n(320),n(321)),u=n(0),p=n.n(u),f=n(1),d=n.n(f),m=n(327),h=n.n(m);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let g=c.a.create()((a=r=class extends p.a.Component{constructor(e){var t;super(e),t=this,y(this,"modalCalledconfirm",()=>{const{useModalSubmit:e}=this.props;if(e)return this.submit()}),y(this,"getFormDataFromPort",()=>{const{query:e,getFormDefaultValue:t,coverDefault:n}=this.props;this.setState({setValueFromPort:!0}),t(e).then(e=>{this.setState(t=>n?{initialValue:e}:{initialValue:v(v({},t.initialValue),e)},()=>{this.setState({})})}).catch(e=>{console.error(e),s.a.error("获取报警规则默认配置失败"),this.setState({setValueFromPort:!1})})}),y(this,"submit",()=>{this.props.form.validateFields((e,n)=>{if(e)return;this.setState({confirmLoading:!0});const o=(this.state.modify?this.props.update:this.props.create)(n);"object"==typeof o&&"function"==typeof o.then&&"function"==typeof o.catch?o.then((function(){s.a.success("操作成功"),t.setState({confirmLoading:!1});for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];t.cancel(t.state.modify?"update":"create",...n)})).catch(e=>{this.setState({confirmLoading:!1}),s.a.error(e&&e.message||"操作失败")}):this.setState({confirmLoading:!1})})}),y(this,"cancel",(function(){const{onCancel:e}=t.props;e(...arguments)})),this.state={modify:!!this.props.query.id,confirmLoading:!1,setValueFromPort:!1,initialValue:e.defaultValueFunc()}}componentDidMount(){const{getDefault:e}=this.props,{modify:t}=this.state;(t||e)&&this.getFormDataFromPort()}render(){const{children:e,btnAlign:t,okText:n,cancelText:o}=this.props,r={confirmLoading:this.state.confirmLoading,initialValue:this.state.initialValue,setValueFromPort:this.state.setValueFromPort,modify:this.state.modify,form:this.props.form};return p.a.createElement(c.a,null,"function"==typeof e?e(r):p.a.Children.map(e,e=>p.a.cloneElement(e,r)),p.a.createElement(i.a,{style:{marginBottom:8}}),p.a.createElement("div",{className:h.a.btnGroup,"data-align":t},o?p.a.createElement(l.a,{onClick:this.cancel},o):null,n?p.a.createElement(l.a,{onClick:this.submit,type:"primary",loading:this.state.confirmLoading},n):null))}},y(r,"displayName","MyForm"),y(r,"propTypes",{update:d.a.func.isRequired,create:d.a.func.isRequired,getFormDefaultValue:d.a.func.isRequired,onCancel:d.a.func,btnAlign:d.a.oneOf(["left","right","center"]),defaultValueFunc:d.a.func.isRequired,query:d.a.oneOfType([d.a.object,d.a.number,d.a.string]),getDefault:d.a.bool,coverDefault:d.a.bool,okText:d.a.oneOfType([d.a.string,d.a.bool]),cancelText:d.a.oneOfType([d.a.string,d.a.bool]),useModalSubmit:d.a.bool}),y(r,"defaultProps",{onCancel:()=>{},query:{},btnAlign:"right",getDefault:!1,coverDefault:!0,useModalSubmit:!1,okText:"确认",cancelText:"取消"}),o=a))||o;t.a=g},327:function(e,t,n){e.exports={btnGroup:"btnGroup__BPF9YMB7"}},341:function(e,t,n){"use strict";n.d(t,"a",(function(){return Be}));var o=n(0),r=n.n(o),a=n(1);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function t(){return l(this,t),i(this,s(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(t,e),t}(o.Component);function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}u.isSelectOptGroup=!0;var h=function(e){function t(){return p(this,t),f(this,d(t).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(t,e),t}(o.Component);function b(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t[0],r=t[1],l=t[2],i=t.slice(3),s=a.oneOfType([a.string,a.number]),c=a.shape({key:s.isRequired,label:a.node});if(!o.labelInValue){if(("multiple"===o.mode||"tags"===o.mode||o.multiple||o.tags)&&""===o[r])return new Error("Invalid prop `".concat(r,"` of type `string` supplied to `").concat(l,"`, ")+"expected `array` when `multiple` or `tags` is `true`.");var u=a.oneOfType([a.arrayOf(s),s]);return u.apply(void 0,[o,r,l].concat(b(i)))}var p=a.oneOfType([a.arrayOf(c),c]),f=p.apply(void 0,[o,r,l].concat(b(i)));return f?new Error("Invalid prop `".concat(r,"` supplied to `").concat(l,"`, ")+"when you set `labelInValue` to `true`, `".concat(r,"` should in ")+"shape of `{ key: string | number, label?: ReactNode }`."):null}h.propTypes={value:a.oneOfType([a.string,a.number])},h.isSelectOption=!0;var y={id:a.string,defaultActiveFirstOption:a.bool,multiple:a.bool,filterOption:a.any,children:a.any,showSearch:a.bool,disabled:a.bool,allowClear:a.bool,showArrow:a.bool,tags:a.bool,prefixCls:a.string,className:a.string,transitionName:a.string,optionLabelProp:a.string,optionFilterProp:a.string,animation:a.string,choiceTransitionName:a.string,open:a.bool,defaultOpen:a.bool,onChange:a.func,onBlur:a.func,onFocus:a.func,onSelect:a.func,onSearch:a.func,onPopupScroll:a.func,onMouseEnter:a.func,onMouseLeave:a.func,onInputKeyDown:a.func,placeholder:a.any,onDeselect:a.func,labelInValue:a.bool,loading:a.bool,value:v,defaultValue:v,dropdownStyle:a.object,maxTagTextLength:a.number,maxTagCount:a.number,maxTagPlaceholder:a.oneOfType([a.node,a.func]),tokenSeparators:a.arrayOf(a.string),getInputElement:a.func,showAction:a.arrayOf(a.string),clearIcon:a.node,inputIcon:a.node,removeIcon:a.node,menuItemSelectedIcon:a.oneOfType([a.func,a.node]),dropdownRender:a.func},g=n(4),O=n.n(g),w=n(77),j=n.n(w),S=n(44),C=n(15),I=n(329),_=n(11),x=n(2),E=n(13),k=n(108),V=n.n(k),P=n(21),D=n.n(P),F=n(42),T=n(76),N=n.n(T);function R(e){return"string"==typeof e?e:""}function M(e){if(!e)return null;var t=e.props;if("value"in t)return t.value;if(e.key)return e.key;if(e.type&&e.type.isSelectOptGroup&&t.label)return t.label;throw new Error("Need at least a key or a value or a label (only for OptGroup) for ".concat(e))}function A(e,t){return"value"===t?M(e):e.props[t]}function L(e){return e.combobox}function B(e){return e.multiple||e.tags}function z(e){return B(e)||L(e)}function W(e){return!z(e)}function q(e){var t=e;return void 0===e?t=[]:Array.isArray(e)||(t=[e]),t}function K(e){return"".concat(typeof e,"-").concat(e)}function U(e){e.preventDefault()}function G(e,t){var n=-1;if(e)for(var o=0;o<e.length;o++)if(e[o]===t){n=o;break}return n}function X(e,t){var n;if(e=q(e))for(var o=0;o<e.length;o++)if(e[o].key===t){n=e[o].label;break}return n}var J={userSelect:"none",WebkitUserSelect:"none"},Y={unselectable:"on"};function H(e,t){return!t.props.disabled&&q(A(t,this.props.optionFilterProp)).join("").toLowerCase().indexOf(e.toLowerCase())>-1}function $(e,t){return function(n){e[t]=n}}function Z(){return(Z=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Q(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ee(e){return(ee=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function te(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var oe=function(e){function t(e){var n,a,l;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),a=this,l=ee(t).call(this,e),(n=!l||"object"!=typeof l&&"function"!=typeof l?te(a):l).rafInstance=null,n.lastVisible=!1,n.scrollActiveItemToView=function(){var e=Object(x.findDOMNode)(n.firstActiveItem),t=n.props,o=t.visible,r=t.firstActiveValue,a=n.props.value;if(e&&o){var l={onlyScrollIfNeeded:!0};a&&0!==a.length||!r||(l.alignWithTop=!0),n.rafInstance=D()((function(){N()(e,Object(x.findDOMNode)(n.menuRef),l)}))}},n.renderMenu=function(){var e=n.props,t=e.menuItems,a=e.menuItemSelectedIcon,l=e.defaultActiveFirstOption,i=e.prefixCls,s=e.multiple,c=e.onMenuSelect,u=e.inputValue,p=e.backfillValue,f=e.onMenuDeselect,d=e.visible,m=n.props.firstActiveValue;if(t&&t.length){var h={};s?(h.onDeselect=f,h.onSelect=c):h.onClick=c;var b=n.props.value,v=function e(t,n){if(null==n)return[];var o=[];return r.a.Children.forEach(t,(function(t){if(t.type.isMenuItemGroup)o=o.concat(e(t.props.children,n));else{var r=M(t),a=t.key;-1!==G(n,r)&&a&&o.push(a)}})),o}(t,b),y={},g=l,O=t;if(v.length||m){d&&!n.lastVisible?y.activeKey=v[0]||m:d||(v[0]&&(g=!1),y.activeKey=void 0);var w=!1,j=function(e){var t=e.key;return!w&&-1!==v.indexOf(t)||!w&&!v.length&&-1!==m.indexOf(e.key)?(w=!0,o.cloneElement(e,{ref:function(e){n.firstActiveItem=e}})):e};O=t.map((function(e){if(e.type.isMenuItemGroup){var t=Object(I.a)(e.props.children).map(j);return o.cloneElement(e,{},t)}return j(e)}))}else n.firstActiveItem=null;var S=b&&b[b.length-1];return u===n.lastInputValue||S&&S===p||(y.activeKey=""),o.createElement(C.e,Z({ref:n.saveMenuRef,style:n.props.dropdownMenuStyle,defaultActiveFirst:g,role:"listbox",itemIcon:s?a:null},y,{multiple:s},h,{selectedKeys:v,prefixCls:"".concat(i,"-menu")}),O)}return null},n.lastInputValue=e.inputValue,n.saveMenuRef=$(te(n),"menuRef"),n}var n,a,l;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(t,e),n=t,(a=[{key:"componentDidMount",value:function(){this.scrollActiveItemToView(),this.lastVisible=this.props.visible}},{key:"shouldComponentUpdate",value:function(e){return e.visible||(this.lastVisible=!1),this.props.visible&&!e.visible||e.visible||e.inputValue!==this.props.inputValue}},{key:"componentDidUpdate",value:function(e){var t=this.props;!e.visible&&t.visible&&this.scrollActiveItemToView(),this.lastVisible=t.visible,this.lastInputValue=t.inputValue}},{key:"componentWillUnmount",value:function(){this.rafInstance&&D.a.cancel(this.rafInstance)}},{key:"render",value:function(){var e=this.renderMenu();return e?o.createElement("div",{style:{overflow:"auto",transform:"translateZ(0)"},id:this.props.ariaId,onFocus:this.props.onPopupFocus,onMouseDown:U,onScroll:this.props.onPopupScroll},e):null}}])&&Q(n.prototype,a),l&&Q(n,l),t}(o.Component);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ae(){return(ae=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function le(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function se(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ce(e,t){return(ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}oe.displayName="DropdownMenu",oe.propTypes={ariaId:a.string,defaultActiveFirstOption:a.bool,value:a.any,dropdownMenuStyle:a.object,multiple:a.bool,onPopupFocus:a.func,onPopupScroll:a.func,onMenuDeSelect:a.func,onMenuSelect:a.func,prefixCls:a.string,menuItems:a.any,inputValue:a.string,visible:a.bool,firstActiveValue:a.string,menuItemSelectedIcon:a.oneOfType([a.func,a.node])};var ue=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n};F.a.displayName="Trigger";var pe={bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:0,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:0,adjustY:1}}},fe=function(e){function t(e){var n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=ie(t).call(this,e),(n=!a||"object"!=typeof a&&"function"!=typeof a?se(r):a).dropdownMenuRef=null,n.rafInstance=null,n.setDropdownWidth=function(){n.cancelRafInstance(),n.rafInstance=D()((function(){var e=x.findDOMNode(se(n)).offsetWidth;e!==n.state.dropdownWidth&&n.setState({dropdownWidth:e})}))},n.cancelRafInstance=function(){n.rafInstance&&D.a.cancel(n.rafInstance)},n.getInnerMenu=function(){return n.dropdownMenuRef&&n.dropdownMenuRef.menuRef},n.getPopupDOMNode=function(){return n.triggerRef.getPopupDomNode()},n.getDropdownElement=function(e){var t=n.props,r=t.dropdownRender,a=t.ariaId,l=o.createElement(oe,ae({ref:n.saveDropdownMenuRef},e,{ariaId:a,prefixCls:n.getDropdownPrefixCls(),onMenuSelect:t.onMenuSelect,onMenuDeselect:t.onMenuDeselect,onPopupScroll:t.onPopupScroll,value:t.value,backfillValue:t.backfillValue,firstActiveValue:t.firstActiveValue,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,menuItemSelectedIcon:t.menuItemSelectedIcon}));return r?r(l,t):null},n.getDropdownTransitionName=function(){var e=n.props,t=e.transitionName;return!t&&e.animation&&(t="".concat(n.getDropdownPrefixCls(),"-").concat(e.animation)),t},n.getDropdownPrefixCls=function(){return"".concat(n.props.prefixCls,"-dropdown")},n.saveDropdownMenuRef=$(se(n),"dropdownMenuRef"),n.saveTriggerRef=$(se(n),"triggerRef"),n.state={dropdownWidth:0},n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){this.setDropdownWidth()}},{key:"componentDidUpdate",value:function(){this.setDropdownWidth()}},{key:"componentWillUnmount",value:function(){this.cancelRafInstance()}},{key:"render",value:function(){var e,t,n=this.props,r=n.onPopupFocus,a=n.empty,l=ue(n,["onPopupFocus","empty"]),i=l.multiple,s=l.visible,c=l.inputValue,u=l.dropdownAlign,p=l.disabled,f=l.showSearch,d=l.dropdownClassName,m=l.dropdownStyle,h=l.dropdownMatchSelectWidth,b=this.getDropdownPrefixCls(),v=(re(e={},d,!!d),re(e,"".concat(b,"--").concat(i?"multiple":"single"),1),re(e,"".concat(b,"--empty"),a),e),y=this.getDropdownElement({menuItems:l.options,onPopupFocus:r,multiple:i,inputValue:c,visible:s});t=p?[]:W(l)&&!f?["click"]:["blur"];var g=ae({},m),w=h?"width":"minWidth";return this.state.dropdownWidth&&(g[w]="".concat(this.state.dropdownWidth,"px")),o.createElement(F.a,ae({},l,{showAction:p?[]:this.props.showAction,hideAction:t,ref:this.saveTriggerRef,popupPlacement:"bottomLeft",builtinPlacements:pe,prefixCls:b,popupTransitionName:this.getDropdownTransitionName(),onPopupVisibleChange:l.onDropdownVisibleChange,popup:y,popupAlign:u,popupVisible:s,getPopupContainer:l.getPopupContainer,popupClassName:O()(v),popupStyle:g}),l.children)}}])&&le(n.prototype,r),a&&le(n,a),t}(o.Component);function de(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function he(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}fe.defaultProps={dropdownRender:function(e){return e}},fe.propTypes={onPopupFocus:a.func,onPopupScroll:a.func,dropdownMatchSelectWidth:a.bool,dropdownAlign:a.object,visible:a.bool,disabled:a.bool,showSearch:a.bool,dropdownClassName:a.string,multiple:a.bool,inputValue:a.string,filterOption:a.any,options:a.any,prefixCls:a.string,popupClassName:a.string,children:a.any,showAction:a.arrayOf(a.string),menuItemSelectedIcon:a.oneOfType([a.func,a.node]),dropdownRender:a.func,ariaId:a.string},fe.displayName="SelectTrigger";var ge=function(){return null};function Oe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];for(var r=0;r<t.length;r++)t[r]&&"function"==typeof t[r]&&t[r].apply(Oe,n)}}var we=function(e){function t(e){var n,r,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),r=this,a=be(t).call(this,e),(n=!a||"object"!=typeof a&&"function"!=typeof a?ve(r):a).inputRef=null,n.inputMirrorRef=null,n.topCtrlRef=null,n.selectTriggerRef=null,n.rootRef=null,n.selectionRef=null,n.dropdownContainer=null,n.blurTimer=null,n.focusTimer=null,n.comboboxTimer=null,n._focused=!1,n._mouseDown=!1,n._options=[],n._empty=!1,n.onInputChange=function(e){var t=n.props.tokenSeparators,o=e.target.value;if(B(n.props)&&t.length&&function(e,t){for(var n=0;n<t.length;++n)if(e.lastIndexOf(t[n])>0)return!0;return!1}(o,t)){var r=n.getValueByInput(o);return void 0!==r&&n.fireChange(r),n.setOpenState(!1,{needFocus:!0}),void n.setInputValue("",!1)}n.setInputValue(o),n.setState({open:!0}),L(n.props)&&n.fireChange([o])},n.onDropdownVisibleChange=function(e){e&&!n._focused&&(n.clearBlurTime(),n.timeoutFocus(),n._focused=!0,n.updateFocusClassName()),n.setOpenState(e)},n.onKeyDown=function(e){var t=n.state.open;if(!n.props.disabled){var o=e.keyCode;t&&!n.getInputDOMNode()?n.onInputKeyDown(e):o===_.a.ENTER||o===_.a.DOWN?(t||n.setOpenState(!0),e.preventDefault()):o===_.a.SPACE&&(t||(n.setOpenState(!0),e.preventDefault()))}},n.onInputKeyDown=function(e){var t=n.props,o=t.disabled,r=t.combobox,a=t.defaultActiveFirstOption;if(!o){var l=n.state,i=n.getRealOpenState(l),s=e.keyCode;if(!B(n.props)||e.target.value||s!==_.a.BACKSPACE){if(s===_.a.DOWN){if(!l.open)return n.openIfHasChildren(),e.preventDefault(),void e.stopPropagation()}else if(s===_.a.ENTER&&l.open)!i&&r||e.preventDefault(),i&&r&&!1===a&&(n.comboboxTimer=setTimeout((function(){n.setOpenState(!1)})));else if(s===_.a.ESC)return void(l.open&&(n.setOpenState(!1),e.preventDefault(),e.stopPropagation()));if(i&&n.selectTriggerRef){var c=n.selectTriggerRef.getInnerMenu();c&&c.onKeyDown(e,n.handleBackfill)&&(e.preventDefault(),e.stopPropagation())}}else{e.preventDefault();var u=l.value;u.length&&n.removeSelected(u[u.length-1])}}},n.onMenuSelect=function(e){var t=e.item;if(t){var o=n.state.value,r=n.props,a=M(t),l=o[o.length-1],i=!1;if(B(r)?-1!==G(o,a)?i=!0:o=o.concat([a]):L(r)||void 0===l||l!==a||a===n.state.backfillValue?(o=[a],n.setOpenState(!1,{needFocus:!0,fireSearch:!1})):(n.setOpenState(!1,{needFocus:!0,fireSearch:!1}),i=!0),i||n.fireChange(o),n.fireSelect(a),!i){var s=L(r)?A(t,r.optionLabelProp):"";r.autoClearSearchValue&&n.setInputValue(s,!1)}}},n.onMenuDeselect=function(e){var t=e.item,o=e.domEvent;if("keydown"!==o.type||o.keyCode!==_.a.ENTER){var r;"click"===o.type&&n.removeSelected(M(t)),n.props.autoClearSearchValue&&n.setInputValue("")}else{var a=x.findDOMNode(t);(r=a)&&null!==r.offsetParent&&n.removeSelected(M(t))}},n.onArrowClick=function(e){e.stopPropagation(),e.preventDefault(),n.props.disabled||n.setOpenState(!n.state.open,{needFocus:!n.state.open})},n.onPlaceholderClick=function(){n.getInputDOMNode&&n.getInputDOMNode()&&n.getInputDOMNode().focus()},n.onOuterFocus=function(e){if(n.props.disabled)e.preventDefault();else{n.clearBlurTime();var t=n.getInputDOMNode();t&&e.target===n.rootRef||(z(n.props)||e.target!==t)&&(n._focused||(n._focused=!0,n.updateFocusClassName(),B(n.props)&&n._mouseDown||n.timeoutFocus()))}},n.onPopupFocus=function(){n.maybeFocus(!0,!0)},n.onOuterBlur=function(e){n.props.disabled?e.preventDefault():n.blurTimer=window.setTimeout((function(){n._focused=!1,n.updateFocusClassName();var e=n.props,t=n.state.value,o=n.state.inputValue;if(W(e)&&e.showSearch&&o&&e.defaultActiveFirstOption){var r=n._options||[];if(r.length){var a=function e(t){for(var n=0;n<t.length;n++){var o=t[n];if(o.type.isMenuItemGroup){var r=e(o.props.children);if(r)return r}else if(!o.props.disabled)return o}return null}(r);a&&(t=[M(a)],n.fireChange(t))}}else if(B(e)&&o){n._mouseDown?n.setInputValue(""):(n.state.inputValue="",n.getInputDOMNode&&n.getInputDOMNode()&&(n.getInputDOMNode().value=""));var l=n.getValueByInput(o);void 0!==l&&(t=l,n.fireChange(t))}if(B(e)&&n._mouseDown)return n.maybeFocus(!0,!0),void(n._mouseDown=!1);n.setOpenState(!1),e.onBlur&&e.onBlur(n.getVLForOnChange(t))}),10)},n.onClearSelection=function(e){var t=n.props,o=n.state;if(!t.disabled){var r=o.inputValue,a=o.value;e.stopPropagation(),(r||a.length)&&(a.length&&n.fireChange([]),n.setOpenState(!1,{needFocus:!0}),r&&n.setInputValue(""))}},n.onChoiceAnimationLeave=function(){n.forcePopupAlign()},n.getOptionInfoBySingleValue=function(e,t){var r;if((t=t||n.state.optionsInfo)[K(e)]&&(r=t[K(e)]),r)return r;var a=e;if(n.props.labelInValue){var l=X(n.props.value,e),i=X(n.props.defaultValue,e);void 0!==l?a=l:void 0!==i&&(a=i)}return{option:o.createElement(h,{value:e,key:e},e),value:e,label:a}},n.getOptionBySingleValue=function(e){return n.getOptionInfoBySingleValue(e).option},n.getOptionsBySingleValue=function(e){return e.map((function(e){return n.getOptionBySingleValue(e)}))},n.getValueByLabel=function(e){if(void 0===e)return null;var t=null;return Object.keys(n.state.optionsInfo).forEach((function(o){var r=n.state.optionsInfo[o];if(!r.disabled){var a=q(r.label);a&&a.join("")===e&&(t=r.value)}})),t},n.getVLBySingleValue=function(e){return n.props.labelInValue?{key:e,label:n.getLabelBySingleValue(e)}:e},n.getVLForOnChange=function(e){var t=e;return void 0!==t?(t=n.props.labelInValue?t.map((function(e){return{key:e,label:n.getLabelBySingleValue(e)}})):t.map((function(e){return e})),B(n.props)?t:t[0]):t},n.getLabelBySingleValue=function(e,t){return n.getOptionInfoBySingleValue(e,t).label},n.getDropdownContainer=function(){return n.dropdownContainer||(n.dropdownContainer=document.createElement("div"),document.body.appendChild(n.dropdownContainer)),n.dropdownContainer},n.getPlaceholderElement=function(){var e=n.props,t=n.state,r=!1;t.inputValue&&(r=!0);var a=t.value;a.length&&(r=!0),L(e)&&1===a.length&&t.value&&!t.value[0]&&(r=!1);var l=e.placeholder;return l?o.createElement("div",me({onMouseDown:U,style:me({display:r?"none":"block"},J)},Y,{onClick:n.onPlaceholderClick,className:"".concat(e.prefixCls,"-selection__placeholder")}),l):null},n.getInputElement=function(){var e=n.props,t=o.createElement("input",{id:e.id,autoComplete:"off"}),r=e.getInputElement?e.getInputElement():t,a=O()(r.props.className,de({},"".concat(e.prefixCls,"-search__field"),!0));return o.createElement("div",{className:"".concat(e.prefixCls,"-search__field__wrap")},o.cloneElement(r,{ref:n.saveInputRef,onChange:n.onInputChange,onKeyDown:Oe(n.onInputKeyDown,r.props.onKeyDown,n.props.onInputKeyDown),value:n.state.inputValue,disabled:e.disabled,className:a}),o.createElement("span",{ref:n.saveInputMirrorRef,className:"".concat(e.prefixCls,"-search__field__mirror")},n.state.inputValue," "))},n.getInputDOMNode=function(){return n.topCtrlRef?n.topCtrlRef.querySelector("input,textarea,div[contentEditable]"):n.inputRef},n.getInputMirrorDOMNode=function(){return n.inputMirrorRef},n.getPopupDOMNode=function(){if(n.selectTriggerRef)return n.selectTriggerRef.getPopupDOMNode()},n.getPopupMenuComponent=function(){if(n.selectTriggerRef)return n.selectTriggerRef.getInnerMenu()},n.setOpenState=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.needFocus,r=t.fireSearch,a=n.props,l=n.state;if(l.open!==e){n.props.onDropdownVisibleChange&&n.props.onDropdownVisibleChange(e);var i={open:e,backfillValue:""};!e&&W(a)&&a.showSearch&&n.setInputValue("",r),e||n.maybeFocus(e,!!o),n.setState(me({open:e},i),(function(){e&&n.maybeFocus(e,!!o)}))}else n.maybeFocus(e,!!o)},n.setInputValue=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=n.props.onSearch;e!==n.state.inputValue&&n.setState((function(n){return t&&e!==n.inputValue&&o&&o(e),{inputValue:e}}),n.forcePopupAlign)},n.getValueByInput=function(e){var t=n.props,o=t.multiple,r=t.tokenSeparators,a=n.state.value,l=!1;return function(e,t){var n=new RegExp("[".concat(t.join(),"]"));return e.split(n).filter((function(e){return e}))}(e,r).forEach((function(e){var t=[e];if(o){var r=n.getValueByLabel(e);r&&-1===G(a,r)&&(a=a.concat(r),l=!0,n.fireSelect(r))}else-1===G(a,e)&&(a=a.concat(t),l=!0,n.fireSelect(e))})),l?a:void 0},n.getRealOpenState=function(e){var t=n.props.open;if("boolean"==typeof t)return t;var o=(e||n.state).open,r=n._options||[];return!z(n.props)&&n.props.showSearch||o&&!r.length&&(o=!1),o},n.markMouseDown=function(){n._mouseDown=!0},n.markMouseLeave=function(){n._mouseDown=!1},n.handleBackfill=function(e){if(n.props.backfill&&(W(n.props)||L(n.props))){var t=M(e);L(n.props)&&n.setInputValue(t,!1),n.setState({value:[t],backfillValue:t})}},n.filterOption=function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:H,r=n.state.value,a=r[r.length-1];if(!e||a&&a===n.state.backfillValue)return!0;var l=n.props.filterOption;return"filterOption"in n.props?!0===l&&(l=o.bind(ve(n))):l=o.bind(ve(n)),!l||("function"==typeof l?l.call(ve(n),e,t):!t.props.disabled)},n.timeoutFocus=function(){var e=n.props.onFocus;n.focusTimer&&n.clearFocusTime(),n.focusTimer=window.setTimeout((function(){e&&e()}),10)},n.clearFocusTime=function(){n.focusTimer&&(clearTimeout(n.focusTimer),n.focusTimer=null)},n.clearBlurTime=function(){n.blurTimer&&(clearTimeout(n.blurTimer),n.blurTimer=null)},n.clearComboboxTime=function(){n.comboboxTimer&&(clearTimeout(n.comboboxTimer),n.comboboxTimer=null)},n.updateFocusClassName=function(){var e=n.rootRef,t=n.props;n._focused?j()(e).add("".concat(t.prefixCls,"-focused")):j()(e).remove("".concat(t.prefixCls,"-focused"))},n.maybeFocus=function(e,t){if(t||e){var o=n.getInputDOMNode(),r=document.activeElement;o&&(e||z(n.props))?r!==o&&(o.focus(),n._focused=!0):r!==n.selectionRef&&n.selectionRef&&(n.selectionRef.focus(),n._focused=!0)}},n.removeSelected=function(e,t){var o=n.props;if(!o.disabled&&!n.isChildDisabled(e)){t&&t.stopPropagation&&t.stopPropagation();var r=n.state.value.filter((function(t){return t!==e}));if(B(o)){var a=e;o.labelInValue&&(a={key:e,label:n.getLabelBySingleValue(e)}),o.onDeselect&&o.onDeselect(a,n.getOptionBySingleValue(e))}n.fireChange(r)}},n.openIfHasChildren=function(){var e=n.props;(o.Children.count(e.children)||W(e))&&n.setOpenState(!0)},n.fireSelect=function(e){n.props.onSelect&&n.props.onSelect(n.getVLBySingleValue(e),n.getOptionBySingleValue(e))},n.fireChange=function(e){var t=n.props;"value"in t||n.setState({value:e},n.forcePopupAlign);var o=n.getVLForOnChange(e),r=n.getOptionsBySingleValue(e);t.onChange&&t.onChange(o,B(n.props)?r:r[0])},n.isChildDisabled=function(e){return Object(I.a)(n.props.children).some((function(t){return M(t)===e&&t.props&&t.props.disabled}))},n.forcePopupAlign=function(){n.state.open&&n.selectTriggerRef&&n.selectTriggerRef.triggerRef&&n.selectTriggerRef.triggerRef.forcePopupAlign()},n.renderFilterOptions=function(){var e=n.state.inputValue,t=n.props,r=t.children,a=t.tags,l=t.notFoundContent,i=[],s=[],c=!1,u=n.renderFilterOptionsFromChildren(r,s,i);if(a){var p=n.state.value;(p=p.filter((function(t){return-1===s.indexOf(t)&&(!e||String(t).indexOf(String(e))>-1)}))).sort((function(e,t){return e.length-t.length})),p.forEach((function(e){var t=e,n=o.createElement(C.b,{style:J,role:"option",attribute:Y,value:t,key:t},t);u.push(n),i.push(n)})),e&&i.every((function(t){return M(t)!==e}))&&u.unshift(o.createElement(C.b,{style:J,role:"option",attribute:Y,value:e,key:e},e))}return!u.length&&l&&(c=!0,u=[o.createElement(C.b,{style:J,attribute:Y,disabled:!0,role:"option",value:"NOT_FOUND",key:"NOT_FOUND"},l)]),{empty:c,options:u}},n.renderFilterOptionsFromChildren=function(e,t,r){var a=[],l=n.props,i=n.state.inputValue,s=l.tags;return o.Children.forEach(e,(function(e){if(e){var l=e.type;if(l.isSelectOptGroup){var c=e.props.label,u=e.key;if(u||"string"!=typeof c?!c&&u&&(c=u):u=c,i&&n.filterOption(i,e)){var p=Object(I.a)(e.props.children).map((function(e){var t=M(e)||e.key;return o.createElement(C.b,me({key:t,value:t},e.props))}));a.push(o.createElement(C.c,{key:u,title:c},p))}else{var f=n.renderFilterOptionsFromChildren(e.props.children,t,r);f.length&&a.push(o.createElement(C.c,{key:u,title:c},f))}}else{V()(l.isSelectOption,"the children of `Select` should be `Select.Option` or `Select.OptGroup`, "+"instead of `".concat(l.name||l.displayName||e.type,"`."));var d=M(e);if(function(e,t){if(!W(t)&&!function(e){return e.multiple}(t)&&"string"!=typeof e)throw new Error("Invalid `value` of type `".concat(typeof e,"` supplied to Option, ")+"expected `string` when `tags/combobox` is `true`.")}(d,n.props),n.filterOption(i,e)){var m=o.createElement(C.b,me({style:J,attribute:Y,value:d,key:d,role:"option"},e.props));a.push(m),r.push(m)}s&&t.push(d)}}})),a},n.renderTopControlNode=function(){var e=n.state,t=e.open,r=e.inputValue,a=n.state.value,l=n.props,i=l.choiceTransitionName,s=l.prefixCls,c=l.maxTagTextLength,u=l.maxTagCount,p=l.showSearch,f=l.removeIcon,d=l.maxTagPlaceholder,m="".concat(s,"-selection__rendered"),h=null;if(W(l)){var b=null;if(a.length){var v=!1,y=1;p&&t?(v=!r)&&(y=.4):v=!0;var g=a[0],O=n.getOptionInfoBySingleValue(g),w=O.label,j=O.title;b=o.createElement("div",{key:"value",className:"".concat(s,"-selection-selected-value"),title:R(j||w),style:{display:v?"block":"none",opacity:y}},w)}h=p?[b,o.createElement("div",{className:"".concat(s,"-search ").concat(s,"-search--inline"),key:"input",style:{display:t?"block":"none"}},n.getInputElement())]:[b]}else{var C,I=[],_=a;if(void 0!==u&&a.length>u){_=_.slice(0,u);var x=n.getVLForOnChange(a.slice(u,a.length)),E="+ ".concat(a.length-u," ...");d&&(E="function"==typeof d?d(x):d),C=o.createElement("li",me({style:J},Y,{role:"presentation",onMouseDown:U,className:"".concat(s,"-selection__choice ").concat(s,"-selection__choice__disabled"),key:"maxTagPlaceholder",title:R(E)}),o.createElement("div",{className:"".concat(s,"-selection__choice__content")},E))}B(l)&&(I=_.map((function(e){var t=n.getOptionInfoBySingleValue(e),r=t.label,a=t.title||r;c&&"string"==typeof r&&r.length>c&&(r="".concat(r.slice(0,c),"..."));var l=n.isChildDisabled(e),i=l?"".concat(s,"-selection__choice ").concat(s,"-selection__choice__disabled"):"".concat(s,"-selection__choice");return o.createElement("li",me({style:J},Y,{onMouseDown:U,className:i,role:"presentation",key:e||"RC_SELECT_EMPTY_VALUE_KEY",title:R(a)}),o.createElement("div",{className:"".concat(s,"-selection__choice__content")},r),l?null:o.createElement("span",{onClick:function(t){n.removeSelected(e,t)},className:"".concat(s,"-selection__choice__remove")},f||o.createElement("i",{className:"".concat(s,"-selection__choice__remove-icon")},"×")))}))),C&&I.push(C),I.push(o.createElement("li",{className:"".concat(s,"-search ").concat(s,"-search--inline"),key:"__input"},n.getInputElement())),h=B(l)&&i?o.createElement(S.a,{onLeave:n.onChoiceAnimationLeave,component:"ul",transitionName:i},I):o.createElement("ul",null,I)}return o.createElement("div",{className:m,ref:n.saveTopCtrlRef},n.getPlaceholderElement(),h)};var l=t.getOptionsInfoFromProps(e);if(e.tags&&"function"!=typeof e.filterOption){var i=Object.keys(l).some((function(e){return l[e].disabled}));V()(!i,"Please avoid setting option to disabled in tags mode since user can always type text as tag.")}return n.state={value:t.getValueFromProps(e,!0),inputValue:e.combobox?t.getInputValueForCombobox(e,l,!0):"",open:e.defaultOpen,optionsInfo:l,backfillValue:"",skipBuildOptionsInfo:!0,ariaId:""},n.saveInputRef=$(ve(n),"inputRef"),n.saveInputMirrorRef=$(ve(n),"inputMirrorRef"),n.saveTopCtrlRef=$(ve(n),"topCtrlRef"),n.saveSelectTriggerRef=$(ve(n),"selectTriggerRef"),n.saveRootRef=$(ve(n),"rootRef"),n.saveSelectionRef=$(ve(n),"selectionRef"),n}var n,r,a;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ye(e,t)}(t,e),n=t,(r=[{key:"componentDidMount",value:function(){var e;(this.props.autoFocus||this.state.open)&&this.focus(),this.setState({ariaId:(e=(new Date).getTime(),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)})))})}},{key:"componentDidUpdate",value:function(){if(B(this.props)){var e=this.getInputDOMNode(),t=this.getInputMirrorDOMNode();e&&e.value&&t?(e.style.width="",e.style.width="".concat(t.clientWidth,"px")):e&&(e.style.width="")}this.forcePopupAlign()}},{key:"componentWillUnmount",value:function(){this.clearFocusTime(),this.clearBlurTime(),this.clearComboboxTime(),this.dropdownContainer&&(x.unmountComponentAtNode(this.dropdownContainer),document.body.removeChild(this.dropdownContainer),this.dropdownContainer=null)}},{key:"focus",value:function(){W(this.props)&&this.selectionRef?this.selectionRef.focus():this.getInputDOMNode()&&this.getInputDOMNode().focus()}},{key:"blur",value:function(){W(this.props)&&this.selectionRef?this.selectionRef.blur():this.getInputDOMNode()&&this.getInputDOMNode().blur()}},{key:"renderArrow",value:function(e){var t=this.props,n=t.showArrow,r=void 0===n?!e:n,a=t.loading,l=t.inputIcon,i=t.prefixCls;if(!r&&!a)return null;var s=a?o.createElement("i",{className:"".concat(i,"-arrow-loading")}):o.createElement("i",{className:"".concat(i,"-arrow-icon")});return o.createElement("span",me({key:"arrow",className:"".concat(i,"-arrow"),style:J},Y,{onClick:this.onArrowClick}),l||s)}},{key:"renderClear",value:function(){var e=this.props,t=e.prefixCls,n=e.allowClear,r=e.clearIcon,a=this.state.inputValue,l=this.state.value,i=o.createElement("span",me({key:"clear",className:"".concat(t,"-selection__clear"),onMouseDown:U,style:J},Y,{onClick:this.onClearSelection}),r||o.createElement("i",{className:"".concat(t,"-selection__clear-icon")},"×"));return n?L(this.props)?a?i:null:a||l.length?i:null:null}},{key:"render",value:function(){var e,t=this.props,n=B(t),r=t.showArrow,a=void 0===r||r,l=this.state,i=t.className,s=t.disabled,c=t.prefixCls,u=t.loading,p=this.renderTopControlNode(),f=this.state,d=f.open,m=f.ariaId;if(d){var h=this.renderFilterOptions();this._empty=h.empty,this._options=h.options}var b=this.getRealOpenState(),v=this._empty,y=this._options||[],g={};Object.keys(t).forEach((function(e){!Object.prototype.hasOwnProperty.call(t,e)||"data-"!==e.substr(0,5)&&"aria-"!==e.substr(0,5)&&"role"!==e||(g[e]=t[e])}));var w=me({},g);z(t)||(w=me(me({},w),{onKeyDown:this.onKeyDown,tabIndex:t.disabled?-1:t.tabIndex}));var j=(de(e={},i,!!i),de(e,c,1),de(e,"".concat(c,"-open"),d),de(e,"".concat(c,"-focused"),d||!!this._focused),de(e,"".concat(c,"-combobox"),L(t)),de(e,"".concat(c,"-disabled"),s),de(e,"".concat(c,"-enabled"),!s),de(e,"".concat(c,"-allow-clear"),!!t.allowClear),de(e,"".concat(c,"-no-arrow"),!a),de(e,"".concat(c,"-loading"),!!u),e);return o.createElement(fe,{onPopupFocus:this.onPopupFocus,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,dropdownAlign:t.dropdownAlign,dropdownClassName:t.dropdownClassName,dropdownMatchSelectWidth:t.dropdownMatchSelectWidth,defaultActiveFirstOption:t.defaultActiveFirstOption,dropdownMenuStyle:t.dropdownMenuStyle,transitionName:t.transitionName,animation:t.animation,prefixCls:t.prefixCls,dropdownStyle:t.dropdownStyle,combobox:t.combobox,showSearch:t.showSearch,options:y,empty:v,multiple:n,disabled:s,visible:b,inputValue:l.inputValue,value:l.value,backfillValue:l.backfillValue,firstActiveValue:t.firstActiveValue,onDropdownVisibleChange:this.onDropdownVisibleChange,getPopupContainer:t.getPopupContainer,onMenuSelect:this.onMenuSelect,onMenuDeselect:this.onMenuDeselect,onPopupScroll:t.onPopupScroll,showAction:t.showAction,ref:this.saveSelectTriggerRef,menuItemSelectedIcon:t.menuItemSelectedIcon,dropdownRender:t.dropdownRender,ariaId:m},o.createElement("div",{id:t.id,style:t.style,ref:this.saveRootRef,onBlur:this.onOuterBlur,onFocus:this.onOuterFocus,className:O()(j),onMouseDown:this.markMouseDown,onMouseUp:this.markMouseLeave,onMouseOut:this.markMouseLeave},o.createElement("div",me({ref:this.saveSelectionRef,key:"selection",className:"".concat(c,"-selection\n            ").concat(c,"-selection--").concat(n?"multiple":"single"),role:"combobox","aria-autocomplete":"list","aria-haspopup":"true","aria-controls":m,"aria-expanded":b},w),p,this.renderClear(),this.renderArrow(!!n))))}}])&&he(n.prototype,r),a&&he(n,a),t}(o.Component);we.propTypes=y,we.defaultProps={prefixCls:"rc-select",defaultOpen:!1,labelInValue:!1,defaultActiveFirstOption:!0,showSearch:!0,allowClear:!1,placeholder:"",onChange:ge,onFocus:ge,onBlur:ge,onSelect:ge,onSearch:ge,onDeselect:ge,onInputKeyDown:ge,dropdownMatchSelectWidth:!0,dropdownStyle:{},dropdownMenuStyle:{},optionFilterProp:"value",optionLabelProp:"value",notFoundContent:"Not Found",backfill:!1,showAction:["click"],tokenSeparators:[],autoClearSearchValue:!0,tabIndex:0,dropdownRender:function(e){return e}},we.getDerivedStateFromProps=function(e,t){var n=t.skipBuildOptionsInfo?t.optionsInfo:we.getOptionsInfoFromProps(e,t),o={optionsInfo:n,skipBuildOptionsInfo:!1};if("open"in e&&(o.open=e.open),e.disabled&&t.open&&(o.open=!1),"value"in e){var r=we.getValueFromProps(e);o.value=r,e.combobox&&(o.inputValue=we.getInputValueForCombobox(e,n))}return o},we.getOptionsFromChildren=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return o.Children.forEach(e,(function(e){e&&(e.type.isSelectOptGroup?we.getOptionsFromChildren(e.props.children,t):t.push(e))})),t},we.getInputValueForCombobox=function(e,t,n){var o=[];if("value"in e&&!n&&(o=q(e.value)),"defaultValue"in e&&n&&(o=q(e.defaultValue)),!o.length)return"";var r=o=o[0];return e.labelInValue?r=o.label:t[K(o)]&&(r=t[K(o)].label),void 0===r&&(r=""),r},we.getLabelFromOption=function(e,t){return A(t,e.optionLabelProp)},we.getOptionsInfoFromProps=function(e,t){var n=we.getOptionsFromChildren(e.children),o={};if(n.forEach((function(t){var n=M(t);o[K(n)]={option:t,value:n,label:we.getLabelFromOption(e,t),title:t.props.title,disabled:t.props.disabled}})),t){var r=t.optionsInfo,a=t.value;a&&a.forEach((function(e){var t=K(e);o[t]||void 0===r[t]||(o[t]=r[t])}))}return o},we.getValueFromProps=function(e,t){var n=[];return"value"in e&&!t&&(n=q(e.value)),"defaultValue"in e&&t&&(n=q(e.defaultValue)),e.labelInValue&&(n=n.map((function(e){return e.key}))),n},we.displayName="Select",Object(E.polyfill)(we);var je=we;je.Option=h,je.OptGroup=u;var Se=je,Ce=n(41),Ie=n(86),_e=n(8),xe=n(26),Ee=n(322);function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ve(){return(Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function De(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function Fe(e,t){return(Fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Re(e);if(t){var r=Re(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==ke(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Ae=Object(Ee.a)("default","large","small"),Le=(Object(Ee.a)("default","multiple","tags","combobox","SECRET_COMBOBOX_MODE_DO_NOT_USE"),{prefixCls:a.string,className:a.string,size:a.oneOf(Ae),notFoundContent:a.any,showSearch:a.bool,optionLabelProp:a.string,transitionName:a.string,choiceTransitionName:a.string,id:a.string}),Be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fe(e,t)}(l,e);var t,n,r,a=Te(l);function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=a.call(this,e)).saveSelect=function(e){t.rcSelect=e},t.renderSelect=function(e){var n,r=e.getPopupContainer,a=e.getPrefixCls,l=e.renderEmpty,i=t.props,s=i.prefixCls,c=i.className,u=void 0===c?"":c,p=i.size,f=i.mode,d=i.getPopupContainer,m=i.removeIcon,h=i.clearIcon,b=i.menuItemSelectedIcon,v=i.showArrow,y=Me(i,["prefixCls","className","size","mode","getPopupContainer","removeIcon","clearIcon","menuItemSelectedIcon","showArrow"]),g=Object(Ce.a)(y,["inputIcon"]),w=a("select",s),j=O()((Pe(n={},"".concat(w,"-lg"),"large"===p),Pe(n,"".concat(w,"-sm"),"small"===p),Pe(n,"".concat(w,"-show-arrow"),v),n),u),S=t.props.optionLabelProp;t.isCombobox()&&(S=S||"value");var C={multiple:"multiple"===f,tags:"tags"===f,combobox:t.isCombobox()},I=m&&(o.isValidElement(m)?o.cloneElement(m,{className:O()(m.props.className,"".concat(w,"-remove-icon"))}):m)||o.createElement(xe.a,{type:"close",className:"".concat(w,"-remove-icon")}),_=h&&(o.isValidElement(h)?o.cloneElement(h,{className:O()(h.props.className,"".concat(w,"-clear-icon"))}):h)||o.createElement(xe.a,{type:"close-circle",theme:"filled",className:"".concat(w,"-clear-icon")}),x=b&&(o.isValidElement(b)?o.cloneElement(b,{className:O()(b.props.className,"".concat(w,"-selected-icon"))}):b)||o.createElement(xe.a,{type:"check",className:"".concat(w,"-selected-icon")});return o.createElement(Se,Ve({inputIcon:t.renderSuffixIcon(w),removeIcon:I,clearIcon:_,menuItemSelectedIcon:x,showArrow:v},g,C,{prefixCls:w,className:j,optionLabelProp:S||"children",notFoundContent:t.getNotFoundContent(l),getPopupContainer:d||r,ref:t.saveSelect}))},Object(_e.a)("combobox"!==e.mode,"Select","The combobox mode is deprecated, it will be removed in next major version, please use AutoComplete instead"),t}return t=l,(n=[{key:"getNotFoundContent",value:function(e){var t=this.props.notFoundContent;return void 0!==t?t:this.isCombobox()?null:e("Select")}},{key:"focus",value:function(){this.rcSelect.focus()}},{key:"blur",value:function(){this.rcSelect.blur()}},{key:"isCombobox",value:function(){var e=this.props.mode;return"combobox"===e||e===l.SECRET_COMBOBOX_MODE_DO_NOT_USE}},{key:"renderSuffixIcon",value:function(e){var t=this.props,n=t.loading,r=t.suffixIcon;return r?o.isValidElement(r)?o.cloneElement(r,{className:O()(r.props.className,"".concat(e,"-arrow-icon"))}):r:n?o.createElement(xe.a,{type:"loading"}):o.createElement(xe.a,{type:"down",className:"".concat(e,"-arrow-icon")})}},{key:"render",value:function(){return o.createElement(Ie.a,null,this.renderSelect)}}])&&De(t.prototype,n),r&&De(t,r),l}(o.Component);Be.Option=h,Be.OptGroup=u,Be.SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",Be.defaultProps={showSearch:!1,transitionName:"slide-up",choiceTransitionName:"zoom"},Be.propTypes=Le},342:function(e,t,n){"use strict";n(40),n(347),n(348)},347:function(e,t,n){},348:function(e,t,n){},407:function(e,t,n){},408:function(e,t,n){e.exports={inlineFormItem:"inlineFormItem__LcRFRcNJ",inline:"inline__dL_SxJ9L"}},413:function(e,t,n){"use strict";n(318);var o=n(314),r=(n(320),n(321)),a=(n(342),n(341)),l=(n(40),n(407),n(26)),i=(n(107),n(74)),s=n(0),c=n.n(s),u=n(408),p=n.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}t.a=c.a.memo((function(){let{id:e,form:t,initialValue:n,initialObj:s,list:u,disabled:d,hide:m=!1,placeholder:h,labelText:b,label:v,selectAll:y=!1,multiple:g=!1,required:O=!1,allowClear:w=!0,showSearch:j=!0,rules:S=[],showAdd:C=!1,addItem:I,addRender:_}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m)return null;const{getFieldDecorator:x,setFieldsValue:E}=t;let k=n||s&&s[e];g&&!k&&(k=[]),g&&Array.isArray(k)&&k.length>0?k=k.map(e=>"".concat(e)):k&&!Array.isArray(k)&&(k+="");const V=b||v,P={};C&&Object.assign(P,{dropdownRender:e=>c.a.createElement("div",null,e,c.a.createElement(i.a,{style:{margin:"4px 0"}}),_&&"function"==typeof _?_():c.a.createElement("div",{style:{padding:"4px 8px",cursor:"pointer"},onMouseDown:e=>e.preventDefault(),onClick:I},c.a.createElement(l.a,{type:"plus"})," 新建"))});const D=()=>{E({[e]:[...u.map(e=>e.key)]})};return c.a.createElement("div",{className:p.a.inlineFormItem},c.a.createElement(r.a.Item,{label:v,className:p.a.inline,style:O?{}:{paddingLeft:"10px"}},x(e,{rules:[{required:O,message:"请选择".concat(V)},...S],initialValue:k})(c.a.createElement(a.a,f({showSearch:j,mode:y||g?"multiple":"default",placeholder:h||"请选择".concat(V),style:{minWidth:300,maxWidth:"calc(100vw - 430px)"},disabled:d,allowClear:w,filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},P),u.map(e=>{let{key:t,label:n}=e;return c.a.createElement(a.a.Option,{value:t,key:t},n)})))),y?c.a.createElement(o.a,{style:{height:30,margin:5},onClick:D,disabled:!u.length||d},"全选"):null)}))},595:function(e,t){e.exports="<h2 id=组件的props>组件的props</h2> <table> <thead> <tr> <th>参数</th> <th>说明</th> <th>类型</th> <th>默认值</th> </tr> </thead> <tbody><tr> <td>form</td> <td>antd的form</td> <td>object</td> <td></td> </tr> <tr> <td>label</td> <td>antd FormItem的label</td> <td>string</td> <td></td> </tr> <tr> <td>id</td> <td>form.getFieldDecorator的第一个参数</td> <td>string</td> <td></td> </tr> <tr> <td>initialValue</td> <td>input的默认值</td> <td>string</td> <td></td> </tr> <tr> <td>initialObj</td> <td>默认值，会把initialObj[id]当作默认值，如果有initialValue，这个将被忽略</td> <td>string</td> <td></td> </tr> <tr> <td>disabled</td> <td>不可编辑</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>required</td> <td>是否校验必填，（纯空格也算未填）</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>placeholder</td> <td>提示文字</td> <td>string</td> <td>请输入+label</td> </tr> <tr> <td>list</td> <td>selector的数组</td> <td>[{key:string,value:string}]</td> <td>[]</td> </tr> <tr> <td>hide</td> <td>不渲染此组件</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>labelText</td> <td>当label为ReactNode时，需要通过此字段来显示默认的placerholder和错误提示信息</td> <td>string</td> <td></td> </tr> <tr> <td>selectAll</td> <td>是否展示全选按钮,此时multiple失效</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>multiple</td> <td>是否多选</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>allowClear</td> <td>运允许置空</td> <td>boolean</td> <td>true</td> </tr> <tr> <td>showSearch</td> <td>可以输入文字过滤选项</td> <td>boolean</td> <td>true</td> </tr> <tr> <td>showAdd</td> <td>显示添加按钮</td> <td>boolean</td> <td>false</td> </tr> <tr> <td>addItem</td> <td>点击添加按钮的回调</td> <td>function</td> <td></td> </tr> <tr> <td>addRender</td> <td>用于渲染添加按钮的render函数</td> <td>function：ReactNode</td> <td></td> </tr> </tbody></table> "},596:function(e,t){e.exports="<h2 id=selector-介绍>Selector 介绍</h2> <h3 id=使用场景>使用场景</h3> <p>此组件需要配合<code>antd</code>的<code>Form</code>组件使用。（配合此组建的Form也可以）</p> <h3 id=做了什么>做了什么</h3> <ul> <li>将部分与表单有关的代码封装到了组件之中,比如 <code>antd</code>的<code>Form.Item</code>,组件的value与form的绑定</li> <li>提供了 禁止编辑、隐藏等功能</li> </ul> <h2 id=组件预览>组件预览</h2> "},619:function(e,t,n){"use strict";n.r(t);var o=n(0),r=n.n(o),a=n(315),l=n(595),i=n.n(l),s=n(413),c=n(326),u=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(c.a,{initialValue:()=>({}),update:()=>Promise.resolve(),create:()=>Promise.resolve(),defaultValueFunc:()=>({}),getFormDefaultValue:()=>Promise.resolve({})},e=>{let{form:t}=e;return r.a.createElement(s.a,{list:[{key:"key",label:"label"},{key:"key2",label:"label2"}],id:"name",label:"表单项目标题",required:!0,selectAll:!0,form:t})})),p=n(317),f=n(596),d=n.n(f),m=n(179);t.default=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{content:d.a}),r.a.createElement(u,null),r.a.createElement("br",null),r.a.createElement(a.a,{html:"import React from 'react';\r\nimport Selector from '../index';\r\nimport Form from '../../Form';\r\n\r\nexport default () => (\r\n  &lt;>\r\n    &lt;Form\r\n      initialValue={() => ({})}\r\n      update={() => Promise.resolve()}\r\n      create={() => Promise.resolve()}\r\n      defaultValueFunc={() => ({})}\r\n      getFormDefaultValue={() => Promise.resolve({})}\r\n    >\r\n      {({ form }) => (\r\n        &lt;Selector\r\n          list={[{ key: 'key', label: 'label' }, { key: 'key2', label: 'label2' }]}\r\n          id=\"name\"\r\n          label=\"表单项目标题\"\r\n          required\r\n          selectAll\r\n          form={form}\r\n        />\r\n      )}\r\n    &lt;/Form>\r\n  &lt;/>\r\n);\r\n",title:"示例源码"}),r.a.createElement(m.a,{content:i.a}),r.a.createElement(p.a,null),r.a.createElement(a.a,{html:"import React from 'react';\r\nimport {\r\n  Button, Form, Select, Divider, Icon,\r\n} from 'antd';\r\nimport styles from './style/index.less';\r\n\r\nexport default React.memo(({\r\n  id, form, initialValue, initialObj, list,\r\n  disabled, hide = false, placeholder, labelText, label, selectAll = false, multiple = false,\r\n  required = false, allowClear = true, showSearch = true, rules = [],\r\n  showAdd = false, addItem, addRender,\r\n} = {}) => {\r\n  if (hide) {\r\n    return null;\r\n  }\r\n  const { getFieldDecorator, setFieldsValue } = form;\r\n\r\n  let _initialValue = initialValue || (initialObj && initialObj[id]);\r\n  if (multiple && !_initialValue) {\r\n    _initialValue = [];\r\n  }\r\n  if (multiple && Array.isArray(_initialValue) && _initialValue.length > 0) {\r\n    _initialValue = _initialValue.map((x) => `${x}`);\r\n  } else if (_initialValue && !Array.isArray(_initialValue)) {\r\n    _initialValue += '';\r\n  }\r\n  const _labelText = labelText || label;\r\n  const selectorProps = {};\r\n\r\n  if (showAdd) {\r\n    Object.assign(selectorProps, {\r\n      dropdownRender: (menu) => (\r\n        &lt;div>\r\n          {menu}\r\n          &lt;Divider style={{ margin: '4px 0' }} />\r\n          {addRender && typeof addRender === 'function' ? addRender() : &lt;div\r\n            style={{ padding: '4px 8px', cursor: 'pointer' }}\r\n            onMouseDown={(e) => e.preventDefault()}\r\n            onClick={addItem}\r\n          >\r\n            &lt;Icon type=\"plus\" /> 新建\r\n          &lt;/div>}\r\n        &lt;/div>\r\n      ),\r\n    });\r\n  }\r\n\r\n  const chooseAll = () => {\r\n    setFieldsValue({\r\n      [id]: [...list.map((resource) => resource.key)],\r\n    });\r\n  };\r\n\r\n  return (\r\n    &lt;div className={styles.inlineFormItem}>\r\n      &lt;Form.Item\r\n        label={label}\r\n        className={styles.inline}\r\n        style={required ? {} : { paddingLeft: '10px' }}\r\n      >\r\n        {getFieldDecorator(id, {\r\n          rules: [{ required, message: `请选择${_labelText}` }, ...rules],\r\n          initialValue: _initialValue,\r\n        })(\r\n          &lt;Select\r\n            showSearch={showSearch}\r\n            mode={(selectAll || multiple) ? 'multiple' : 'default'}\r\n            placeholder={placeholder || `请选择${_labelText}`}\r\n            style={{ minWidth: 300, maxWidth: 'calc(100vw - 430px)' }}\r\n            disabled={disabled}\r\n            allowClear={allowClear}\r\n            filterOption={(input, option) => (\r\n              option.props.children.toLowerCase()\r\n                .indexOf(input.toLowerCase()) >= 0\r\n            )}\r\n            {...selectorProps}\r\n          >\r\n            {list.map(({ key, label: _label }) => (\r\n              &lt;Select.Option value={key} key={key}>{_label}&lt;/Select.Option>\r\n            ))}\r\n          &lt;/Select>,\r\n        )}\r\n      &lt;/Form.Item>\r\n      {selectAll ? &lt;Button\r\n        style={{ height: 30, margin: 5 }}\r\n        onClick={chooseAll}\r\n        disabled={!list.length || disabled}\r\n      >全选&lt;/Button> : null}\r\n    &lt;/div>\r\n  );\r\n});\r\n",title:"js文件"}),r.a.createElement(a.a,{html:".inlineFormItem {\r\n  > div {\r\n    display: inline-block;\r\n\r\n    &:not(:first-child) {\r\n      margin-left: 10px;\r\n    }\r\n  }\r\n}\r\n\r\n.inline {\r\n  > div:last-child {\r\n    display: inline-block;\r\n    vertical-align: top;\r\n  }\r\n  margin-bottom: 8px;\r\n}\r\n",title:"less文件"}))}}]);